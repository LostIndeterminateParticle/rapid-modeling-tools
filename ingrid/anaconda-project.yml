name: Ingrid_Nerdman

commands:
  test:
    windows: pytest
    unix: pytest
    env_spec: model-processing-dev
    description: Run test suite

  jupyter:
    windows: (if not exist notebooks (mkdir notebooks)) & cd notebooks & jupyter lab
    unix: mkdir -p notebooks && cd notebooks && jupyter lab
    env_spec: model-processing-dev
    description: Launch JupyterLab from /notebooks

  setup:
    windows: python -m pip install -e . --no-deps --ignore-installed
    unix: python -m pip install -e . --no-deps --ignore-installed
    env_spec: model-processing-dev
    description: Install model-processing

  cli:
    windows: model-processing
    unix: model-processing
    env_spec: model-processing-dev
    description: Call model-processing

  build-docs:
    windows: sphinx-apidoc -F -q -f -H "Rapid Modeling Tools" -A "GTRI" -V "0.1.0"^
      --extensions="sphinx.ext.autosummary,sphinx.ext.intersphinx,sphinx.ext.napoleon"^
      -o docs src/model_processing && cd docs && make.bat html
    unix: >-
      sphinx-apidoc -F -q -f -H "Rapid Modeling Tools" -A "GTRI" -V "0.1.0"
      --extensions="sphinx.ext.autosummary,sphinx.ext.intersphinx,sphinx.ext.napoleon"
      -o docs src/model_processing && cd docs && make html
    env_spec: model-processing-dev
    description: Build model-processing documents

  black:
    windows: black setup.py src test
    unix: black setup.py src test
    env_spec: model-processing-dev
    description: Format files per Black

env_specs:
  default:
    packages:
    - pip:
      - networkx >=2.3
      - openpyxl
      - pandas
      - xlrd >=0.9.0
    channels: []
  model-processing-dev:
    inherit_from:
    - default
    packages:
    - scipy
    - black
    - jupyterlab
    - pytest
    - pytest-cov
    - pytest-flake8
    - pytest-black
    - python >=3.6,<3.7
    - sphinx
    channels:
    - defaults
    - conda-forge
